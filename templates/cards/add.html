{% extends "base.html" %}
{% block title %}{% if card %}Edit Card{% else %}Add Card{% endif %}{% endblock %}

{% block content %}
<h2>{% if card %}Edit Card{% else %}Add a New Card{% endif %}</h2>

<form action="{% if card %}/cards/{{card.id}}/edit{% else %}/cards/add{% endif %}" method="post">
  <label>Front:</label><br>
  <input type="text" name="front" value="{{ card.front if card else '' }}" required><br><br>

  <label>Back:</label><br>
  <input type="text" name="back" value="{{ card.back if card else '' }}" required><br><br>

  <label>Set:</label><br>
  <select name="set_id" required>
    {% for set in sets %}
      <option value="{{ set.id }}" {% if card and card.set_id == set.id %}selected{% endif %}>
        {{ set.name }}
      </option>
    {% endfor %}
  </select><br><br>

  <input type="submit" value="Save">
</form>

{% if card %}
  <a href="/cards/">Cancel</a>
  <form action="/cards/{{card.id}}/delete" method="post">
    <button type="submit" onclick="return confirm('Are you sure you want to delete this card?');">
      Delete Card
    </button>
  </form>
{% endif %}
{% endblock %}
